
<%- include('header') %>
  <div id="admin-content">
      <div class="container">
         <div class="row">
             <div class="col-md-12">
                 <h1 class="admin-heading">Add New Post</h1>
             </div>
              <div class="col-md-offset-3 col-md-6">
                
                  <!-- Form -->
                  <form  action="/admin/post" method="POST" enctype="multipart/form-data">
                      <div class="form-group">
                          <label for="title">Title</label>
                          <input type="text" id="title" name="title" class="form-control" maxlength="70" required>
                      </div>
                      <div class="form-group">
                          <label for="description"> Description</label>
                          <textarea name="description" id="description" class="form-control" rows="5" maxlength="1000" required></textarea>
                      </div>
                      <div class="form-group">
                          <label>Category</label>
                          <select name="categoryId" class="form-control">
                            
                            <% categories.forEach(category => { %>
                                <option value="<%= category._id %>"><%= category.name %></option>
                              <% }); %>
                            
                            
                            
                          </select>
                      </div>
                      <div class="form-group">
                          <label>Post image</label>
                          <input type="file" name="image" required>
                      </div>
                      <input type="submit" name="status" class="btn btn-primary" value="Publish" required />
                      <input type="submit" name="status" class="btn btn-primary" value="Draft" required />
                  </form>
                  <% if (errors.length > 0) { %>
                    <ul style="list-style-type: disc; color: #C47472; background: #F2DEDF; padding:20px 30px; margin-top:15px">
                        <% errors.forEach(error => { %>
                            <li><%= error.msg %></li>
                        <% }) %>
                    </ul>
                <% } %>
                  <!--/Form -->
              </div>
          </div>
      </div>
  </div>
  <%- include('footer') %>

